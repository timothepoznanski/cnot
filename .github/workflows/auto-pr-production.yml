name: Auto PR to Production

on:
  push:
    branches: [ dev ]

jobs:
  create-pr:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Create Pull Request
      uses: peter-evans/create-pull-request@v6
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        base: main
        head: dev
        title: "üöÄ Auto-deploy from dev to production"
        body: |
          ## D√©ploiement automatique en production
          
          Cette PR a √©t√© cr√©√©e automatiquement suite √† un push sur la branche `dev`.
          
          ### Changements inclus
          - Tous les commits r√©cents de la branche `dev`
          
          ### Actions apr√®s merge
          Une fois cette PR merg√©e, le d√©ploiement en production sera d√©clench√© automatiquement.
          
          ---
          _Cr√©√© automatiquement par GitHub Actions_
        draft: false
        delete-branch: false
